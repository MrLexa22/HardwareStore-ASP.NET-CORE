@model IdexPageManageOrders;
<link rel="stylesheet" type="text/css" href="~/css/style_list.css" />
<link rel="stylesheet" type="text/css" href="~/css/style_table.css" />
@addTagHelper *, KursovoiProject_ElShop  
<script type="text/javascript" src="~/js/script_list.js" defer></script>    
    <div class="table-responsive custom-table-responsive" style="padding-bottom: 20px;">
            <table class="table custom-table" style="width: 100%; min-width: 0px;">
                <thead>
                    <tr>
                        <th scope="col">Номер заказа</th>
                        <th scope="col">Покупатель</th>
                        <th scope="col">Дата заказа</th>
                        <th scope="col">Сумма заказа</th>
                        <th scope="col">Филиал</th>
                        <th scope="col">Статус заказа</th>
                        <th scope="col">Действия</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.listOrders)
                    {
                    <tr>
                        <td>@item.ID_Order.ToString()</td>
                        <td>
                            <p style="font-weight: bold; margin-bottom: 0.2rem;">Покупатель: </p><p style="margin-top: 0.2rem;">@item.FI</p>
                            <p style="font-weight: bold; margin-bottom: 0.2rem;">Телефон: </p><p style="margin-top: 0.2rem;">@item.PhoneNumber</p>
                        </td>
                        <td>
                            @item.DateOrder
                            @if(item.DateReadyToExtradition != null)
                            {
                                <br />
                                <p>Собран: @item.DateReadyToExtradition</p>
                            }
                            @if(item.DateExtradition != null)
                            {
                                <br />
                                <p>Выдан: @item.DateExtradition</p>
                            }
                        </td>
                        <td><p>@item.SummaOrder</p><p style="font-style: italic;">Позиций: @item.OrdersPositions.ToString()</p></td>
                        <td>@item.FilialName</td>
                        <td>
                            @if(item.StatusOrder == 0)
                            {
                                <p style="background-color: #fff595; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Создан. Ожидает подтверждения</p>
                            }
                            @if(item.StatusOrder == 1)
                            {
                                <p style="background-color: #fad1db; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Подтверждён. Сборка</p>
                            }
                            @if(item.StatusOrder == 2)
                            {
                                <p style="background-color: #2382f6; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Ожидает выдачи</p>
                            }
                            @if(item.StatusOrder == 3)
                            {
                                <p style="background-color: #3aaf40; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Завершён. Выдан покупателю</p>
                            }
                            @if(item.StatusOrder == 4)
                            {
                                <p style="background-color: #ec5855; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Завершён. Отменён</p>
                            }
                        </td>
                        <td>
                            <a asp-action="AboutOrderIndex" asp-controller="ManageOrders" asp-route-id="@item.ID_Order">
                                <div style="cursor:pointer; text-decoration: none;">
                                    <svg height="25" width="25" style="fill: #C62306;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 496.158 496.158" xml:space="preserve">
                                        <path style="fill: #C62306;" d="M496.158,248.085c0-137.022-111.069-248.082-248.075-248.082C111.07,0.003,0,111.063,0,248.085  c0,137.001,111.07,248.07,248.083,248.07C385.089,496.155,496.158,385.086,496.158,248.085z"/>
                                        <g>
	                                        <path style="fill:#FFFFFF;" d="M315.249,359.555c-1.387-2.032-4.048-2.755-6.27-1.702c-24.582,11.637-52.482,23.94-57.958,25.015   c-0.138-0.123-0.357-0.348-0.644-0.737c-0.742-1.005-1.103-2.318-1.103-4.015c0-13.905,10.495-56.205,31.192-125.719   c17.451-58.406,19.469-70.499,19.469-74.514c0-6.198-2.373-11.435-6.865-15.146c-4.267-3.519-10.229-5.302-17.719-5.302   c-12.459,0-26.899,4.73-44.146,14.461c-16.713,9.433-35.352,25.41-55.396,47.487c-1.569,1.729-1.733,4.314-0.395,6.228   c1.34,1.915,3.825,2.644,5.986,1.764c7.037-2.872,42.402-17.359,47.557-20.597c4.221-2.646,7.875-3.989,10.861-3.989   c0.107,0,0.199,0.004,0.276,0.01c0.036,0.198,0.07,0.5,0.07,0.933c0,3.047-0.627,6.654-1.856,10.703   c-30.136,97.641-44.785,157.498-44.785,182.994c0,8.998,2.501,16.242,7.432,21.528c5.025,5.393,11.803,8.127,20.146,8.127   c8.891,0,19.712-3.714,33.08-11.354c12.936-7.392,32.68-23.653,60.363-49.717C316.337,364.326,316.636,361.587,315.249,359.555z"/>
	                                        <path style="fill:#FFFFFF;" d="M314.282,76.672c-4.925-5.041-11.227-7.597-18.729-7.597c-9.34,0-17.475,3.691-24.176,10.971   c-6.594,7.16-9.938,15.946-9.938,26.113c0,8.033,2.463,14.69,7.32,19.785c4.922,5.172,11.139,7.794,18.476,7.794   c8.958,0,17.049-3.898,24.047-11.586c6.876-7.553,10.363-16.433,10.363-26.393C321.646,88.105,319.169,81.684,314.282,76.672z"/>
                                        </g>
                                    </svg>
                                </div>
                            </a>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
        <page-link page-model="Model.PageViewModel" page-action="GetAllOrders"
            page-url-search="@(Model.FilterViewModel.Search)"
            page-url-typesort="@(Model.FilterViewModel.TypeSort)"
            page-url-filial="@(Model.FilterViewModel.Filial)"
            page-url-statusOrder="@(Model.FilterViewModel.StatusOrder)"></page-link>