@model IdexPageManageOrders;
<link rel="stylesheet" type="text/css" href="~/css/style_list.css" />
<link rel="stylesheet" type="text/css" href="~/css/style_table.css" />
@addTagHelper *, KursovoiProject_ElShop  
<script type="text/javascript" src="~/js/script_list.js" defer></script>    
    <div class="table-responsive custom-table-responsive" style="padding-bottom: 20px;">
            <table class="table custom-table" style="width: 100%; min-width: 0px;">
                <thead>
                    <tr>
                        <th scope="col">Номер заказа</th>
                        <th scope="col">Покупатель</th>
                        <th scope="col">Дата заказа</th>
                        <th scope="col">Сумма заказа</th>
                        <th scope="col">Филиал</th>
                        <th scope="col">Статус заказа</th>
                        <th scope="col">Действия</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.listOrders)
                    {
                    <tr>
                        <td>@item.ID_Order.ToString()</td>
                        <td>
                            <p style="font-weight: bold; margin-bottom: 0.2rem;">Покупатель: </p><p style="margin-top: 0.2rem;">@item.FI</p>
                            <p style="font-weight: bold; margin-bottom: 0.2rem;">Телефон: </p><p style="margin-top: 0.2rem;">@item.PhoneNumber</p>
                        </td>
                        <td>
                            @item.DateOrder
                            @if(item.DateReadyToExtradition != null)
                            {
                                <br />
                                <p>Собран: @item.DateReadyToExtradition</p>
                            }
                            @if(item.DateExtradition != null)
                            {
                                <br />
                                <p>Выдан: @item.DateExtradition</p>
                            }
                        </td>
                        <td><p>@item.SummaOrder</p><p style="font-style: italic;">Позиций: @item.OrdersPositions.ToString()</p></td>
                        <td>@item.FilialName</td>
                        <td>
                            @if(item.StatusOrder == 0)
                            {
                                <p style="background-color: #fff595; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Создан. Ожидает подтверждения</p>
                            }
                            @if(item.StatusOrder == 1)
                            {
                                <p style="background-color: #fad1db; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Подтверждён. Сборка</p>
                            }
                            @if(item.StatusOrder == 2)
                            {
                                <p style="background-color: #2382f6; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Ожидает выдачи</p>
                            }
                            @if(item.StatusOrder == 3)
                            {
                                <p style="background-color: #3aaf40; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Завершён. Выдан покупателю</p>
                            }
                            @if(item.StatusOrder == 4)
                            {
                                <p style="background-color: #ec5855; color: white; border-radius: 5px; width: fit-content; margin: 0 auto; padding: 5px;">Завершён. Отменён</p>
                            }
                        </td>
                        <td>
                            <a asp-action="AddEditCadri" asp-controller="ManageCadri" asp-route-id="@item.ID_Order">
                                <div style="cursor:pointer; text-decoration: none; margin-right: 15px;">
                                    <svg enable-background="new 0 0 24 24" height="25" viewBox="0 0 24 24" width="25" style="fill: #C62306;" xmlns="http://www.w3.org/2000/svg"><path d="m19 12c-.553 0-1 .448-1 1v8c0 .551-.448 1-1 1h-14c-.552 0-1-.449-1-1v-14c0-.551.448-1 1-1h8c.553 0 1-.448 1-1s-.447-1-1-1h-8c-1.654 0-3 1.346-3 3v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-8c0-.553-.447-1-1-1z" /><path d="m9.376 11.089c-.07.07-.117.159-.137.255l-.707 3.536c-.033.164.019.333.137.452.095.095.223.146.354.146.032 0 .065-.003.098-.01l3.535-.707c.098-.02.187-.067.256-.137l7.912-7.912-3.535-3.535z" /><path d="m23.268.732c-.975-.975-2.561-.975-3.535 0l-1.384 1.384 3.535 3.535 1.384-1.384c.472-.471.732-1.099.732-1.767s-.26-1.296-.732-1.768z" /></svg>
                                </div>
                            </a>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
        <page-link page-model="Model.PageViewModel" page-action="GetAllCadri"
            page-url-search="@(Model.FilterViewModel.Search)"
            page-url-typesort="@(Model.FilterViewModel.TypeSort)"
            page-url-filial="@(Model.FilterViewModel.Filial)"
            page-url-statusOrder="@(Model.FilterViewModel.StatusOrder)"></page-link>